{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 2,
   "id": "ed0f98f2-2cb3-468e-ba1d-83eff436824c",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Collecting simpy\n",
      "  Downloading simpy-4.1.1-py3-none-any.whl.metadata (6.1 kB)\n",
      "Downloading simpy-4.1.1-py3-none-any.whl (27 kB)\n",
      "Installing collected packages: simpy\n",
      "Successfully installed simpy-4.1.1\n",
      "Note: you may need to restart the kernel to use updated packages.\n"
     ]
    }
   ],
   "source": [
    "pip install simpy"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 1,
   "id": "d869a7b5-5f8e-4a88-b3a8-2cba7d087e1b",
   "metadata": {},
   "outputs": [],
   "source": [
    "import simpy\n",
    "import random"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "id": "6f47e603-e73b-4c38-aca2-27d764de0d09",
   "metadata": {},
   "outputs": [],
   "source": [
    "TOTAL_RESOURCES = {'Gold': 1000, 'Silver': 1500, 'Copper': 2000}\n",
    "MINING_EQUIPMENT_FAILURE_PROBABILITY = 0.05\n",
    "TRANSPORTATION_DELAY_MEAN = 2  # Mean transportation delay in hours\n",
    "TRANSPORTATION_DELAY_STD = 0.5  # Standard deviation of transportation delay"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "id": "f3846789-e7f4-4baf-9ca1-2691054c2111",
   "metadata": {},
   "outputs": [],
   "source": [
    "# Define the mining location process\n",
    "def mine_location(env, location, resource, total_resources):\n",
    "    while total_resources[resource] > 0:\n",
    "        # Check for mining equipment failure\n",
    "        if random.random() < MINING_EQUIPMENT_FAILURE_PROBABILITY:\n",
    "            print(f\"Mining equipment failure at {location}!\")\n",
    "            yield env.timeout(1)  # Repair time\n",
    "            print(\"Mining equipment repaired.\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 14,
   "id": "5ecb16b6-5696-43a5-aee2-8a5608c29a39",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Mining equipment failure at Location A!\n",
      "Mining equipment failure at Location B!\n",
      "Mining equipment failure at Location C!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location A!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location B!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location C!\n",
      "Resources transported from Location A to the destination. Remaining Copper at destination: 2005\n",
      "Resources transported from Location B to the destination. Remaining Gold at destination: 1008\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location A!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location B!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location C!\n",
      "Resources transported from Location C to the destination. Remaining Gold at destination: 1016\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location A!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location B!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location C!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location A!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location B!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location C!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location A!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location B!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location C!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location A!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location B!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location C!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location A!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location B!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location C!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location A!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location B!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location C!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location A!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location B!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location C!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location A!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location B!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location C!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location A!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location B!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location C!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location A!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location B!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location C!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location A!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location B!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location C!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location A!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location B!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location C!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location A!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location B!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location C!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location A!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location B!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location C!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location A!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location B!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location C!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location A!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location B!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location C!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location A!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location B!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location C!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location A!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location B!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location C!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location A!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location B!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location C!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location A!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location B!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location C!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location A!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location B!\n",
      "Mining equipment repaired.\n",
      "Mining equipment failure at Location C!\n"
     ]
    }
   ],
   "source": [
    "# Define the transportation process\n",
    "def transport_resources(env, location, resource, total_resources):\n",
    "    # Simulate transportation delay\n",
    "    transportation_delay = max(0, random.gauss(TRANSPORTATION_DELAY_MEAN, TRANSPORTATION_DELAY_STD))\n",
    "    yield env.timeout(transportation_delay)\n",
    "    \n",
    "    # Update resource availability at destination\n",
    "    total_resources[resource] += random.randint(1, 10)\n",
    "    print(f\"Resources transported from {location} to the destination. \"\n",
    "          f\"Remaining {resource} at destination: {total_resources[resource]}\")\n",
    "\n",
    "# Define the main simulation process\n",
    "def simulate_mining(env):\n",
    "    # Initialize resource availability\n",
    "    total_resources = dict(TOTAL_RESOURCES)\n",
    "    \n",
    "    # Define mining locations and resources\n",
    "    locations = ['Location A', 'Location B', 'Location C']\n",
    "    resources = list(total_resources.keys())\n",
    "    \n",
    "    # Create processes for each mining location\n",
    "    for location in locations:\n",
    "        resource = random.choice(resources)\n",
    "        env.process(mine_location(env, location, resource, total_resources))\n",
    "    \n",
    "    # Transportation process\n",
    "    for location in locations:\n",
    "        resource = random.choice(resources)\n",
    "        env.process(transport_resources(env, location, resource, total_resources))\n",
    "    \n",
    "    # Run the simulation for a specified time\n",
    "    yield env.timeout(24)  # Simulate mining for 24 hours\n",
    "\n",
    "# Initialize SimPy environment\n",
    "env = simpy.Environment()\n",
    "\n",
    "# Run the simulation\n",
    "env.process(simulate_mining(env))\n",
    "env.run(until=24)  # Set simulation time to 24 hours"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 15,
   "id": "1ac2cff1-4de2-4446-bf5c-411eed640f55",
   "metadata": {},
   "outputs": [],
   "source": [
    "##In this example:\n",
    "###mine_location function defines the process for mining at a specific location. Miners arrive at the location, mine a random amount of resources for a random duration, and then repeat the process.\n",
    "###simulate_mining function sets up the simulation environment, creates processes for each mining location, and runs the simulation for 24 hours.\n",
    "###SimPy's Environment class is used to manage the simulation environment, and timeout is used to simulate the passage of time.\n",
    "###The simulation output prints the mining activity at each location, including the resource mined and the duration of mining.\n",
    "###You can extend this example by adding more complex behaviors, such as resource depletion, mining equipment failures, or transportation logistics. Adjust the parameters and logic according to your specific requirements for the mining simulation."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "ae769d72-60c6-4082-b0f6-c3e4642d830e",
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3 (ipykernel)",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.9.18"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 5
}
